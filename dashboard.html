<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Student Dashboard</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <header>
        <h1>Gamified STEM Learning</h1>
        <button onclick="logout()" class="logout-btn">Logout</button>
    </header>

    <div class="dashboard">

        <div class="actions">
            <button onclick="alert('Leaderboard - Coming Soon!')">Leaderboard</button>
            <button onclick="alert('Achievements - Coming Soon!')">Achievements</button>
            <button onclick="alert('Analytics - Coming Soon!')">Analytics Graph</button>
        </div>

        <div id="selection-area">
            <h2>Select Your Class</h2>
            <div id="class-options"></div>
        </div>

    </div>
    <div id="selection-area">
        <h2>Select Your Class</h2>
        <div id="class-options"></div>
    </div>

<script>
    const curriculum = {
        "6": {
            "Science": [
                { "chapter": "Components of Food", "levels": ["Basic", "Intermediate", "Advanced"] },
                { "chapter": "Materials Around Us", "levels": ["Basic", "Intermediate", "Advanced"] }
            ],
            "Technology": [
                { "chapter": "Introduction to Computers", "levels": ["Basic", "Intermediate", "Advanced"] }
            ],
            "Engineering": [
                { "chapter": "Simple Machines", "levels": ["Basic", "Intermediate", "Advanced"] }
            ],
            "Mathematics": [
                { "chapter": "Knowing Our Numbers", "levels": ["Basic", "Intermediate", "Advanced"] }
            ]
        },
        "7": {
            "Science": [
                { "chapter": "Nutrition in Plants", "levels": ["Basic", "Intermediate", "Advanced"] },
                { "chapter": "Heat", "levels": ["Basic", "Intermediate", "Advanced"] }
            ],
            "Technology": [
                { "chapter": "Internet Basics", "levels": ["Basic", "Intermediate", "Advanced"] }
            ],
            "Engineering": [
                { "chapter": "Introduction to Simple Circuits", "levels": ["Basic", "Intermediate", "Advanced"] }
            ],
            "Mathematics": [
                { "chapter": "Integers", "levels": ["Basic", "Intermediate", "Advanced"] }
            ]
        },
        "8": {
            "Science": [
                { "chapter": "Cell Structure and Functions", "levels": ["Basic", "Intermediate", "Advanced"] },
                { "chapter": "Reproduction in Plants", "levels": ["Basic", "Intermediate", "Advanced"] }
            ],
            "Technology": [
                { "chapter": "Networking Basics", "levels": ["Basic", "Intermediate", "Advanced"] }
            ],
            "Engineering": [
                { "chapter": "Understanding Force and Motion", "levels": ["Basic", "Intermediate", "Advanced"] }
            ],
            "Mathematics": [
                { "chapter": "Rational Numbers", "levels": ["Basic", "Intermediate", "Advanced"] }
            ]
        }
    };

   function createButton(text, onClickHandler) {
    const btn = document.createElement('button');
    btn.textContent = text;
    btn.onclick = onClickHandler;
    return btn;
}

function clearSelectionArea() {
    document.getElementById('selection-area').innerHTML = '';
}
function selectClass(selectedClass) {
    clearSelectionArea();
    const area = document.getElementById('selection-area');
    area.innerHTML = `<h2>Selected Class: ${selectedClass}</h2><h3>Select Subject</h3>`;

    const subjects = Object.keys(curriculum[selectedClass]);
    subjects.forEach(subject => {
        area.appendChild(createButton(subject, () => selectSubject(selectedClass, subject)));
    });
}

function selectSubject(selectedClass, selectedSubject) {
    clearSelectionArea();
    const area = document.getElementById('selection-area');
    area.innerHTML = `<h2>${selectedSubject}</h2><h3>Select Chapter</h3>`;

    const chapters = curriculum[selectedClass][selectedSubject];

    chapters.forEach(({ chapter }) => {
        area.appendChild(createButton(chapter, () => selectChapter(selectedClass, selectedSubject, chapter)));
    });
}

function selectChapter(selectedClass, selectedSubject, selectedChapter) {
    clearSelectionArea();
    const area = document.getElementById('selection-area');
    area.innerHTML = `<h2>${selectedSubject} - ${selectedChapter}</h2><h3>Select Level</h3>`;

    const levels = ["Basic", "Intermediate", "Advanced"];

    levels.forEach(level => {
        area.appendChild(createButton(level, () => alert(`You selected:\nClass: ${selectedClass}\nSubject: ${selectedSubject}\nChapter: ${selectedChapter}\nLevel: ${level}`)));
    });
}
const userData = localStorage.getItem('loggedInUser');

if (userData) {
    const user = JSON.parse(userData);

    document.getElementById('class-options').innerHTML = '';
    ["6", "7", "8"].forEach(cls => {
        document.getElementById('class-options').appendChild(createButton(`Class ${cls}`, () => selectClass(cls)));
    });
} else {
    alert('No user logged in! Redirecting to login page...');
    window.location.href = 'index.html';
}


</script>


</body>

</html>

