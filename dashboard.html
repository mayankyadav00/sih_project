<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Gamified Learning</title>
    <link rel="stylesheet" href="./dashboard-style.css">
</head>

<body>
    <header>
        Gamified Learning Dashboard
        <button class="logout-btn" onclick="logout()">Logout</button>
    </header>

    <div class="actions">
        <button onclick="startSelection()">Start Learning</button>
        <button>Leaderboard</button>
        <button>Achievements</button>
        <button>Analytics Graph</button>
    </div>

    <div id="selection-area">
        <!-- Dynamic selections will appear here -->
    </div>

    <script>
        const user = JSON.parse(localStorage.getItem("loggedInUser"));

        if (!user) {
            alert("Please login first.");
            window.location.href = "./index.html";
        }

        function logout() {
            localStorage.removeItem("loggedInUser");
            window.location.href = "./index.html";
        }

        function startSelection() {
            const selectionArea = document.getElementById('selection-area');
            selectionArea.innerHTML = `
                <h2>Select Class</h2>
                <button onclick="selectSubject(6)">Class 6</button>
                <button onclick="selectSubject(7)">Class 7</button>
                <button onclick="selectSubject(8)">Class 8</button>
            `;
        }

        function selectSubject(cls) {
            const selectionArea = document.getElementById('selection-area');
            selectionArea.innerHTML = `
                <h2>Select Subject (STEM)</h2>
                <button onclick="selectChapter(${cls}, 'Science')">Science</button>
                <button onclick="selectChapter(${cls}, 'Math')">Math</button>
                <button onclick="selectChapter(${cls}, 'Technology')">Technology</button>
                <button onclick="selectChapter(${cls}, 'Engineering')">Engineering</button>
                <button onclick="startSelection()">← Back</button>
            `;
        }

        function selectChapter(cls, subject) {
            const selectionArea = document.getElementById('selection-area');
            selectionArea.innerHTML = `
                <h2>Select Chapter</h2>
                <button onclick="selectLevel(${cls}, '${subject}', 'Chapter1')">Chapter 1</button>
                <button onclick="selectLevel(${cls}, '${subject}', 'Chapter2')">Chapter 2</button>
                <button onclick="selectLevel(${cls}, '${subject}', 'Chapter3')">Chapter 3</button>
                <button onclick="selectSubject(${cls})">← Back</button>
            `;
        }

        function selectLevel(cls, subject, chapter) {
            const selectionArea = document.getElementById('selection-area');
            selectionArea.innerHTML = `
                <h2>Select Level</h2>
                <button onclick="startGame(${cls}, '${subject}', '${chapter}', 'Basic')">Basic</button>
                <button onclick="startGame(${cls}, '${subject}',
